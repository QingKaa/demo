import{g as Se,i as nn,a as ke,L as qe,M as Ne,b as _t,t as oe,e as an,c as nt,d as Ie,f as Oe,h as xe,u as V,_ as X,j as on,k as rn,w as We,l as St,r as Z,m as Pe,n as sn,o as de}from"./base-Bf5iE2VC.js";import{i as Tt,a as ln,b as dn,c as un,u as At,d as Dt,p as cn,e as fn,E as hn}from"./scrollbar-CnQQMSHB.js";import"./common-DZC9nikz.js";import{A as fe,B as P,C as A,D as B,E as ne,G as Te,l as S,H as he,I as Ae,J as at,d as I,K as Lt,o as x,h as j,w as M,b as Q,n as _,u as m,e as F,c as D,L as ve,M as O,N as we,j as re,F as Ye,m as Ze,t as Je,q as U,O as Qe,P as Kt,Q as ae,R as $t,S as vn,T as pn,U as Bt,V as Fe,k as It,W as Y,f as z,X as Ee,a as G,r as Ot,Y as gn,Z as ot,s as yn,$ as bn,a0 as mn,a1 as Cn,g as kn,_ as Nn}from"./index-Bh25nWXI.js";import{u as Pt,a as xn,b as Xe,c as rt,d as Ft,e as Ke,E as wn,l as En,f as _n,i as Sn,g as Tn,h as An,j as Dn}from"./use-form-item-DLqAMvsS.js";import{r as se,i as je,b as et,f as Ln,S as st}from"./isObject-BosxhSnN.js";var Me=Se(se,"WeakMap");function Kn(e){return e!=null&&Tt(e.length)&&!nn(e)}var $n=Object.prototype;function Bn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$n;return e===n}function In(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function On(){return!1}var jt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lt=jt&&typeof module=="object"&&module&&!module.nodeType&&module,Pn=lt&&lt.exports===jt,it=Pn?se.Buffer:void 0,Fn=it?it.isBuffer:void 0,Ve=Fn||On,jn="[object Arguments]",Mn="[object Array]",Vn="[object Boolean]",Rn="[object Date]",zn="[object Error]",Hn="[object Function]",Un="[object Map]",Gn="[object Number]",qn="[object Object]",Wn="[object RegExp]",Yn="[object Set]",Zn="[object String]",Jn="[object WeakMap]",Qn="[object ArrayBuffer]",Xn="[object DataView]",ea="[object Float32Array]",ta="[object Float64Array]",na="[object Int8Array]",aa="[object Int16Array]",oa="[object Int32Array]",ra="[object Uint8Array]",sa="[object Uint8ClampedArray]",la="[object Uint16Array]",ia="[object Uint32Array]",E={};E[ea]=E[ta]=E[na]=E[aa]=E[oa]=E[ra]=E[sa]=E[la]=E[ia]=!0;E[jn]=E[Mn]=E[Qn]=E[Vn]=E[Xn]=E[Rn]=E[zn]=E[Hn]=E[Un]=E[Gn]=E[qn]=E[Wn]=E[Yn]=E[Zn]=E[Jn]=!1;function da(e){return je(e)&&Tt(e.length)&&!!E[et(e)]}function ua(e){return function(t){return e(t)}}var Mt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ce=Mt&&typeof module=="object"&&module&&!module.nodeType&&module,ca=ce&&ce.exports===Mt,$e=ca&&Ln.process,dt=function(){try{var e=ce&&ce.require&&ce.require("util").types;return e||$e&&$e.binding&&$e.binding("util")}catch{}}(),ut=dt&&dt.isTypedArray,Vt=ut?ua(ut):da,fa=Object.prototype,ha=fa.hasOwnProperty;function va(e,t){var n=ke(e),a=!n&&ln(e),o=!n&&!a&&Ve(e),r=!n&&!a&&!o&&Vt(e),l=n||a||o||r,s=l?In(e.length,String):[],h=s.length;for(var f in e)ha.call(e,f)&&!(l&&(f=="length"||o&&(f=="offset"||f=="parent")||r&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||dn(f,h)))&&s.push(f);return s}function pa(e,t){return function(n){return e(t(n))}}var ga=pa(Object.keys,Object),ya=Object.prototype,ba=ya.hasOwnProperty;function ma(e){if(!Bn(e))return ga(e);var t=[];for(var n in Object(e))ba.call(e,n)&&n!="constructor"&&t.push(n);return t}function Ca(e){return Kn(e)?va(e):ma(e)}function ka(){this.__data__=new qe,this.size=0}function Na(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function xa(e){return this.__data__.get(e)}function wa(e){return this.__data__.has(e)}var Ea=200;function _a(e,t){var n=this.__data__;if(n instanceof qe){var a=n.__data__;if(!Ne||a.length<Ea-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new _t(a)}return n.set(e,t),this.size=n.size,this}function q(e){var t=this.__data__=new qe(e);this.size=t.size}q.prototype.clear=ka;q.prototype.delete=Na;q.prototype.get=xa;q.prototype.has=wa;q.prototype.set=_a;function Sa(e,t){for(var n=-1,a=e==null?0:e.length,o=0,r=[];++n<a;){var l=e[n];t(l,n,e)&&(r[o++]=l)}return r}function Ta(){return[]}var Aa=Object.prototype,Da=Aa.propertyIsEnumerable,ct=Object.getOwnPropertySymbols,La=ct?function(e){return e==null?[]:(e=Object(e),Sa(ct(e),function(t){return Da.call(e,t)}))}:Ta;function Ka(e,t,n){var a=t(e);return ke(e)?a:un(a,n(e))}function ft(e){return Ka(e,Ca,La)}var Re=Se(se,"DataView"),ze=Se(se,"Promise"),He=Se(se,"Set"),ht="[object Map]",$a="[object Object]",vt="[object Promise]",pt="[object Set]",gt="[object WeakMap]",yt="[object DataView]",Ba=oe(Re),Ia=oe(Ne),Oa=oe(ze),Pa=oe(He),Fa=oe(Me),H=et;(Re&&H(new Re(new ArrayBuffer(1)))!=yt||Ne&&H(new Ne)!=ht||ze&&H(ze.resolve())!=vt||He&&H(new He)!=pt||Me&&H(new Me)!=gt)&&(H=function(e){var t=et(e),n=t==$a?e.constructor:void 0,a=n?oe(n):"";if(a)switch(a){case Ba:return yt;case Ia:return ht;case Oa:return vt;case Pa:return pt;case Fa:return gt}return t});var bt=se.Uint8Array,ja="__lodash_hash_undefined__";function Ma(e){return this.__data__.set(e,ja),this}function Va(e){return this.__data__.has(e)}function _e(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new _t;++t<n;)this.add(e[t])}_e.prototype.add=_e.prototype.push=Ma;_e.prototype.has=Va;function Ra(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function za(e,t){return e.has(t)}var Ha=1,Ua=2;function Rt(e,t,n,a,o,r){var l=n&Ha,s=e.length,h=t.length;if(s!=h&&!(l&&h>s))return!1;var f=r.get(e),i=r.get(t);if(f&&i)return f==t&&i==e;var c=-1,d=!0,v=n&Ua?new _e:void 0;for(r.set(e,t),r.set(t,e);++c<s;){var u=e[c],y=t[c];if(a)var b=l?a(y,u,c,t,e,r):a(u,y,c,e,t,r);if(b!==void 0){if(b)continue;d=!1;break}if(v){if(!Ra(t,function(p,k){if(!za(v,k)&&(u===p||o(u,p,n,a,r)))return v.push(k)})){d=!1;break}}else if(!(u===y||o(u,y,n,a,r))){d=!1;break}}return r.delete(e),r.delete(t),d}function Ga(e){var t=-1,n=Array(e.size);return e.forEach(function(a,o){n[++t]=[o,a]}),n}function qa(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}var Wa=1,Ya=2,Za="[object Boolean]",Ja="[object Date]",Qa="[object Error]",Xa="[object Map]",eo="[object Number]",to="[object RegExp]",no="[object Set]",ao="[object String]",oo="[object Symbol]",ro="[object ArrayBuffer]",so="[object DataView]",mt=st?st.prototype:void 0,Be=mt?mt.valueOf:void 0;function lo(e,t,n,a,o,r,l){switch(n){case so:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ro:return!(e.byteLength!=t.byteLength||!r(new bt(e),new bt(t)));case Za:case Ja:case eo:return an(+e,+t);case Qa:return e.name==t.name&&e.message==t.message;case to:case ao:return e==t+"";case Xa:var s=Ga;case no:var h=a&Wa;if(s||(s=qa),e.size!=t.size&&!h)return!1;var f=l.get(e);if(f)return f==t;a|=Ya,l.set(e,t);var i=Rt(s(e),s(t),a,o,r,l);return l.delete(e),i;case oo:if(Be)return Be.call(e)==Be.call(t)}return!1}var io=1,uo=Object.prototype,co=uo.hasOwnProperty;function fo(e,t,n,a,o,r){var l=n&io,s=ft(e),h=s.length,f=ft(t),i=f.length;if(h!=i&&!l)return!1;for(var c=h;c--;){var d=s[c];if(!(l?d in t:co.call(t,d)))return!1}var v=r.get(e),u=r.get(t);if(v&&u)return v==t&&u==e;var y=!0;r.set(e,t),r.set(t,e);for(var b=l;++c<h;){d=s[c];var p=e[d],k=t[d];if(a)var L=l?a(k,p,d,t,e,r):a(p,k,d,e,t,r);if(!(L===void 0?p===k||o(p,k,n,a,r):L)){y=!1;break}b||(b=d=="constructor")}if(y&&!b){var K=e.constructor,w=t.constructor;K!=w&&"constructor"in e&&"constructor"in t&&!(typeof K=="function"&&K instanceof K&&typeof w=="function"&&w instanceof w)&&(y=!1)}return r.delete(e),r.delete(t),y}var ho=1,Ct="[object Arguments]",kt="[object Array]",ye="[object Object]",vo=Object.prototype,Nt=vo.hasOwnProperty;function po(e,t,n,a,o,r){var l=ke(e),s=ke(t),h=l?kt:H(e),f=s?kt:H(t);h=h==Ct?ye:h,f=f==Ct?ye:f;var i=h==ye,c=f==ye,d=h==f;if(d&&Ve(e)){if(!Ve(t))return!1;l=!0,i=!1}if(d&&!i)return r||(r=new q),l||Vt(e)?Rt(e,t,n,a,o,r):lo(e,t,h,n,a,o,r);if(!(n&ho)){var v=i&&Nt.call(e,"__wrapped__"),u=c&&Nt.call(t,"__wrapped__");if(v||u){var y=v?e.value():e,b=u?t.value():t;return r||(r=new q),o(y,b,n,a,r)}}return d?(r||(r=new q),fo(e,t,n,a,o,r)):!1}function zt(e,t,n,a,o){return e===t?!0:e==null||t==null||!je(e)&&!je(t)?e!==e&&t!==t:po(e,t,n,a,zt,o)}function go(e,t){return zt(e,t)}const W={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},De="update:modelValue",Ht={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Pt,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...At(["ariaControls"])},Ut={[De]:e=>fe(e)||nt(e)||Ie(e),change:e=>fe(e)||nt(e)||Ie(e)},le=Symbol("checkboxGroupContextKey"),yo=({model:e,isChecked:t})=>{const n=P(le,void 0),a=A(()=>{var r,l;const s=(r=n==null?void 0:n.max)==null?void 0:r.value,h=(l=n==null?void 0:n.min)==null?void 0:l.value;return!Oe(s)&&e.value.length>=s&&!t.value||!Oe(h)&&e.value.length<=h&&t.value});return{isDisabled:xn(A(()=>(n==null?void 0:n.disabled.value)||a.value)),isLimitDisabled:a}},bo=(e,{model:t,isLimitExceeded:n,hasOwnLabel:a,isDisabled:o,isLabeledByFormItem:r})=>{const l=P(le,void 0),{formItem:s}=Xe(),{emit:h}=Te();function f(u){var y,b,p,k;return[!0,e.trueValue,e.trueLabel].includes(u)?(b=(y=e.trueValue)!=null?y:e.trueLabel)!=null?b:!0:(k=(p=e.falseValue)!=null?p:e.falseLabel)!=null?k:!1}function i(u,y){h("change",f(u),y)}function c(u){if(n.value)return;const y=u.target;h("change",f(y.checked),u)}async function d(u){n.value||!a.value&&!o.value&&r.value&&(u.composedPath().some(p=>p.tagName==="LABEL")||(t.value=f([!1,e.falseValue,e.falseLabel].includes(t.value)),await ne(),i(t.value,u)))}const v=A(()=>(l==null?void 0:l.validateEvent)||e.validateEvent);return B(()=>e.modelValue,()=>{v.value&&(s==null||s.validate("change").catch(u=>Dt()))}),{handleChange:c,onClickRoot:d}},mo=e=>{const t=S(!1),{emit:n}=Te(),a=P(le,void 0),o=A(()=>Oe(a)===!1),r=S(!1),l=A({get(){var s,h;return o.value?(s=a==null?void 0:a.modelValue)==null?void 0:s.value:(h=e.modelValue)!=null?h:t.value},set(s){var h,f;o.value&&he(s)?(r.value=((h=a==null?void 0:a.max)==null?void 0:h.value)!==void 0&&s.length>(a==null?void 0:a.max.value)&&s.length>l.value.length,r.value===!1&&((f=a==null?void 0:a.changeEvent)==null||f.call(a,s))):(n(De,s),t.value=s)}});return{model:l,isGroup:o,isLimitExceeded:r}},Co=(e,t,{model:n})=>{const a=P(le,void 0),o=S(!1),r=A(()=>xe(e.value)?e.label:e.value),l=A(()=>{const i=n.value;return Ie(i)?i:he(i)?Ae(r.value)?i.map(at).some(c=>go(c,r.value)):i.map(at).includes(r.value):i!=null?i===e.trueValue||i===e.trueLabel:!!i}),s=rt(A(()=>{var i;return(i=a==null?void 0:a.size)==null?void 0:i.value}),{prop:!0}),h=rt(A(()=>{var i;return(i=a==null?void 0:a.size)==null?void 0:i.value})),f=A(()=>!!t.default||!xe(r.value));return{checkboxButtonSize:s,isChecked:l,isFocused:o,checkboxSize:h,hasOwnLabel:f,actualValue:r}},Gt=(e,t)=>{const{formItem:n}=Xe(),{model:a,isGroup:o,isLimitExceeded:r}=mo(e),{isFocused:l,isChecked:s,checkboxButtonSize:h,checkboxSize:f,hasOwnLabel:i,actualValue:c}=Co(e,t,{model:a}),{isDisabled:d}=yo({model:a,isChecked:s}),{inputId:v,isLabeledByFormItem:u}=Ft(e,{formItemContext:n,disableIdGeneration:i,disableIdManagement:o}),{handleChange:y,onClickRoot:b}=bo(e,{model:a,isLimitExceeded:r,hasOwnLabel:i,isDisabled:d,isLabeledByFormItem:u});return(()=>{function k(){var L,K;he(a.value)&&!a.value.includes(c.value)?a.value.push(c.value):a.value=(K=(L=e.trueValue)!=null?L:e.trueLabel)!=null?K:!0}e.checked&&k()})(),Ke({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>o.value&&xe(e.value))),Ke({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>!!e.trueLabel)),Ke({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},A(()=>!!e.falseLabel)),{inputId:v,isLabeledByFormItem:u,isChecked:s,isDisabled:d,isFocused:l,checkboxButtonSize:h,checkboxSize:f,hasOwnLabel:i,model:a,actualValue:c,handleChange:y,onClickRoot:b}},ko=I({name:"ElCheckbox"}),No=I({...ko,props:Ht,emits:Ut,setup(e){const t=e,n=Lt(),{inputId:a,isLabeledByFormItem:o,isChecked:r,isDisabled:l,isFocused:s,checkboxSize:h,hasOwnLabel:f,model:i,actualValue:c,handleChange:d,onClickRoot:v}=Gt(t,n),u=V("checkbox"),y=A(()=>[u.b(),u.m(h.value),u.is("disabled",l.value),u.is("bordered",t.border),u.is("checked",r.value)]),b=A(()=>[u.e("input"),u.is("disabled",l.value),u.is("checked",r.value),u.is("indeterminate",t.indeterminate),u.is("focus",s.value)]);return(p,k)=>(x(),j(Qe(!m(f)&&m(o)?"span":"label"),{class:_(m(y)),"aria-controls":p.indeterminate?p.ariaControls:null,onClick:m(v)},{default:M(()=>{var L,K;return[Q("span",{class:_(m(b))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?F((x(),D("input",{key:0,id:m(a),"onUpdate:modelValue":w=>ve(i)?i.value=w:null,class:_(m(u).e("original")),type:"checkbox",indeterminate:p.indeterminate,name:p.name,tabindex:p.tabindex,disabled:m(l),"true-value":(L=p.trueValue)!=null?L:p.trueLabel,"false-value":(K=p.falseValue)!=null?K:p.falseLabel,onChange:m(d),onFocus:w=>s.value=!0,onBlur:w=>s.value=!1,onClick:O(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[we,m(i)]]):F((x(),D("input",{key:1,id:m(a),"onUpdate:modelValue":w=>ve(i)?i.value=w:null,class:_(m(u).e("original")),type:"checkbox",indeterminate:p.indeterminate,disabled:m(l),value:m(c),name:p.name,tabindex:p.tabindex,onChange:m(d),onFocus:w=>s.value=!0,onBlur:w=>s.value=!1,onClick:O(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[we,m(i)]]),Q("span",{class:_(m(u).e("inner"))},null,2)],2),m(f)?(x(),D("span",{key:0,class:_(m(u).e("label"))},[re(p.$slots,"default"),p.$slots.default?U("v-if",!0):(x(),D(Ye,{key:0},[Ze(Je(p.label),1)],64))],2)):U("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var xo=X(No,[["__file","checkbox.vue"]]);const wo=I({name:"ElCheckboxButton"}),Eo=I({...wo,props:Ht,emits:Ut,setup(e){const t=e,n=Lt(),{isFocused:a,isChecked:o,isDisabled:r,checkboxButtonSize:l,model:s,actualValue:h,handleChange:f}=Gt(t,n),i=P(le,void 0),c=V("checkbox"),d=A(()=>{var u,y,b,p;const k=(y=(u=i==null?void 0:i.fill)==null?void 0:u.value)!=null?y:"";return{backgroundColor:k,borderColor:k,color:(p=(b=i==null?void 0:i.textColor)==null?void 0:b.value)!=null?p:"",boxShadow:k?`-1px 0 0 0 ${k}`:void 0}}),v=A(()=>[c.b("button"),c.bm("button",l.value),c.is("disabled",r.value),c.is("checked",o.value),c.is("focus",a.value)]);return(u,y)=>{var b,p;return x(),D("label",{class:_(m(v))},[u.trueValue||u.falseValue||u.trueLabel||u.falseLabel?F((x(),D("input",{key:0,"onUpdate:modelValue":k=>ve(s)?s.value=k:null,class:_(m(c).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:m(r),"true-value":(b=u.trueValue)!=null?b:u.trueLabel,"false-value":(p=u.falseValue)!=null?p:u.falseLabel,onChange:m(f),onFocus:k=>a.value=!0,onBlur:k=>a.value=!1,onClick:O(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[we,m(s)]]):F((x(),D("input",{key:1,"onUpdate:modelValue":k=>ve(s)?s.value=k:null,class:_(m(c).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:m(r),value:m(h),onChange:m(f),onFocus:k=>a.value=!0,onBlur:k=>a.value=!1,onClick:O(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[we,m(s)]]),u.$slots.default||u.label?(x(),D("span",{key:2,class:_(m(c).be("button","inner")),style:Kt(m(o)?m(d):void 0)},[re(u.$slots,"default",{},()=>[Ze(Je(u.label),1)])],6)):U("v-if",!0)],2)}}});var qt=X(Eo,[["__file","checkbox-button.vue"]]);const _o=on({modelValue:{type:rn(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Pt,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...At(["ariaLabel"])}),So={[De]:e=>he(e),change:e=>he(e)},To=I({name:"ElCheckboxGroup"}),Ao=I({...To,props:_o,emits:So,setup(e,{emit:t}){const n=e,a=V("checkbox"),{formItem:o}=Xe(),{inputId:r,isLabeledByFormItem:l}=Ft(n,{formItemContext:o}),s=async f=>{t(De,f),await ne(),t("change",f)},h=A({get(){return n.modelValue},set(f){s(f)}});return ae(le,{...cn($t(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:h,changeEvent:s}),B(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(f=>Dt()))}),(f,i)=>{var c;return x(),j(Qe(f.tag),{id:m(r),class:_(m(a).b("group")),role:"group","aria-label":m(l)?void 0:f.ariaLabel||"checkbox-group","aria-labelledby":m(l)?(c=m(o))==null?void 0:c.labelId:void 0},{default:M(()=>[re(f.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Wt=X(Ao,[["__file","checkbox-group.vue"]]);const Do=We(xo,{CheckboxButton:qt,CheckboxGroup:Wt});St(qt);St(Wt);const Lo=I({name:"ElCollapseTransition"}),Ko=I({...Lo,setup(e){const t=V("collapse-transition"),n=o=>{o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom},a={beforeEnter(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.style.height&&(o.dataset.elExistsHeight=o.style.height),o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0},enter(o){requestAnimationFrame(()=>{o.dataset.oldOverflow=o.style.overflow,o.dataset.elExistsHeight?o.style.maxHeight=o.dataset.elExistsHeight:o.scrollHeight!==0?o.style.maxHeight=`${o.scrollHeight}px`:o.style.maxHeight=0,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom,o.style.overflow="hidden"})},afterEnter(o){o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow},enterCancelled(o){n(o)},beforeLeave(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.dataset.oldOverflow=o.style.overflow,o.style.maxHeight=`${o.scrollHeight}px`,o.style.overflow="hidden"},leave(o){o.scrollHeight!==0&&(o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0)},afterLeave(o){n(o)},leaveCancelled(o){n(o)}};return(o,r)=>(x(),j(Bt,vn({name:m(t).b()},pn(a)),{default:M(()=>[re(o.$slots,"default")]),_:3},16,["name"]))}});var $o=X(Ko,[["__file","collapse-transition.vue"]]);const Bo=We($o),Io=Symbol("ElSelect"),te="$treeNodeId",xt=function(e,t){!t||t[te]||Object.defineProperty(t,te,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},tt=function(e,t){return e?t[e]:t[te]},Ue=(e,t,n)=>{const a=e.value.currentNode;n();const o=e.value.currentNode;a!==o&&t("current-change",o?o.data:null,o)},Ge=e=>{let t=!0,n=!0,a=!0;for(let o=0,r=e.length;o<r;o++){const l=e[o];(l.checked!==!0||l.indeterminate)&&(t=!1,l.disabled||(a=!1)),(l.checked!==!1||l.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:a,half:!t&&!n}},ue=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:a}=Ge(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):a?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||ue(o)},be=function(e,t){const n=e.store.props,a=e.data||{},o=n[t];if(typeof o=="function")return o(a,e);if(typeof o=="string")return a[o];if(typeof o>"u"){const r=a[t];return r===void 0?"":r}};let Oo=0;class J{constructor(t){this.id=Oo++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Fe(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const r=be(this,"isLeaf");typeof r=="boolean"&&(this.isLeafByUser=r)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||xt(this,this.data),!this.data)return;const a=t.defaultExpandedKeys,o=t.key;o&&a&&a.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||xt(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=be(this,"children")||[];for(let a=0,o=n.length;a<o;a++)this.insertChild({data:n[a]})}get label(){return be(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return be(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(a=>a===t||n&&a.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,a){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof J)){if(!a){const o=this.getChildren(!0);o.includes(t.data)||(typeof n>"u"||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=It(new J(t)),t instanceof J&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let a;n&&(a=this.childNodes.indexOf(n)),this.insertChild(t,a)}insertAfter(t,n){let a;n&&(a=this.childNodes.indexOf(n),a!==-1&&(a+=1)),this.insertChild(t,a)}removeChild(t){const n=this.getChildren()||[],a=n.indexOf(t.data);a>-1&&n.splice(a,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===t){n=this.childNodes[a];break}n&&this.removeChild(n)}expand(t,n){const a=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ue(this),a())}):a()}doCreateChildren(t,n={}){t.forEach(a=>{this.insertChild(Object.assign({data:a},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,a,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:s}=Ge(this.childNodes);!this.isLeaf&&!l&&s&&(this.checked=!1,t=!1);const h=()=>{if(n){const f=this.childNodes;for(let d=0,v=f.length;d<v;d++){const u=f[d];o=o||t!==!1;const y=u.disabled?u.checked:o;u.setChecked(y,n,!0,o)}const{half:i,all:c}=Ge(f);c||(this.checked=c,this.indeterminate=i)}};if(this.shouldLoadData()){this.loadData(()=>{h(),ue(this)},{checked:t!==!1});return}else h()}const r=this.parent;!r||r.level===0||a||ue(r)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const a=this.store.props;let o="children";return a&&(o=a.children||"children"),n[o]===void 0&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(r=>r.data),a={},o=[];t.forEach((r,l)=>{const s=r[te];!!s&&n.findIndex(f=>f[te]===s)>=0?a[s]={index:l,data:r}:o.push({index:l,data:r})}),this.store.lazy||n.forEach(r=>{a[r[te]]||this.removeChildByData(r)}),o.forEach(({index:r,data:l})=>{this.insertChild({data:l},r)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const a=r=>{this.childNodes=[],this.doCreateChildren(r,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,r)},o=()=>{this.loading=!1};this.store.load(this,a,o)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const a=n.shift();n.unshift(...a.childNodes),t(a)}}reInitChecked(){this.store.checkStrictly||ue(this)}}class Po{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)Fe(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new J({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,a=this.lazy,o=function(r){const l=r.root?r.root.childNodes:r.childNodes;if(l.forEach(s=>{s.visible=n.call(s,t,s.data,s),o(s)}),!r.visible&&l.length){let s=!0;s=!l.some(h=>h.visible),r.root?r.root.visible=s===!1:r.visible=s===!1}t&&r.visible&&!r.isLeaf&&(!a||r.loaded)&&r.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof J)return t;const n=Ae(t)?tt(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const a=this.getNode(n);a.parent.insertBefore({data:t},a)}insertAfter(t,n){const a=this.getNode(n);a.parent.insertAfter({data:t},a)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const a=xe(n)?this.root:this.getNode(n);a&&a.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(a=>{const o=n[a];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const a=[],o=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(s=>{(s.checked||n&&s.indeterminate)&&(!t||t&&s.isLeaf)&&a.push(s.data),o(s)})};return o(this),a}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(r=>{r.indeterminate&&t.push(r.data),n(r)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const a in n)Fe(n,a)&&t.push(n[a]);return t}updateChildren(t,n){const a=this.nodesMap[t];if(!a)return;const o=a.childNodes;for(let r=o.length-1;r>=0;r--){const l=o[r];this.remove(l.data)}for(let r=0,l=n.length;r<l;r++){const s=n[r];this.append(s,a.data)}}_setCheckedKeys(t,n=!1,a){const o=this._getAllNodes().sort((h,f)=>h.level-f.level),r=Object.create(null),l=Object.keys(a);o.forEach(h=>h.setChecked(!1,!1));const s=h=>{h.childNodes.forEach(f=>{var i;r[f.data[t]]=!0,(i=f.childNodes)!=null&&i.length&&s(f)})};for(let h=0,f=o.length;h<f;h++){const i=o[h],c=i.data[t].toString();if(!l.includes(c)){i.checked&&!r[c]&&i.setChecked(!1,!1);continue}if(i.childNodes.length&&s(i),i.isLeaf||this.checkStrictly){i.setChecked(!0,!1);continue}if(i.setChecked(!0,!0),n){i.setChecked(!1,!1);const v=function(u){u.childNodes.forEach(b=>{b.isLeaf||b.setChecked(!1,!1),v(b)})};v(i)}}}setCheckedNodes(t,n=!1){const a=this.key,o={};t.forEach(r=>{o[(r||{})[a]]=!0}),this._setCheckedKeys(a,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const a=this.key,o={};t.forEach(r=>{o[r]=!0}),this._setCheckedKeys(a,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const a=this.getNode(n);a&&a.expand(null,this.autoExpandParent)})}setChecked(t,n,a){const o=this.getNode(t);o&&o.setChecked(!!n,a)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const a=t[this.key],o=this.nodesMap[a];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const a=this.getNode(t);a&&(this.setCurrentNode(a),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Fo=I({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=V("tree"),n=P("NodeInstance"),a=P("RootTree");return()=>{const o=e.node,{data:r,store:l}=o;return e.renderContent?e.renderContent(Y,{_self:n,node:o,data:r,store:l}):re(a.ctx.slots,"default",{node:o,data:r},()=>[Y("span",{class:t.be("node","label")},[o.label])])}}});var jo=X(Fo,[["__file","tree-node-content.vue"]]);function Yt(e){const t=P("TreeNodeMap",null),n={treeNodeExpand:a=>{e.node!==a&&e.node.collapse()},children:[]};return t&&t.children.push(n),ae("TreeNodeMap",n),{broadcastExpanded:a=>{if(e.accordion)for(const o of n.children)o.treeNodeExpand(a)}}}const Zt=Symbol("dragEvents");function Mo({props:e,ctx:t,el$:n,dropIndicator$:a,store:o}){const r=V("tree"),l=S({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ae(Zt,{treeNodeDragStart:({event:i,treeNode:c})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(c.node))return i.preventDefault(),!1;i.dataTransfer.effectAllowed="move";try{i.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=c,t.emit("node-drag-start",c.node,i)},treeNodeDragOver:({event:i,treeNode:c})=>{const d=c,v=l.value.dropNode;v&&v.node.id!==d.node.id&&Z(v.$el,r.is("drop-inner"));const u=l.value.draggingNode;if(!u||!d)return;let y=!0,b=!0,p=!0,k=!0;typeof e.allowDrop=="function"&&(y=e.allowDrop(u.node,d.node,"prev"),k=b=e.allowDrop(u.node,d.node,"inner"),p=e.allowDrop(u.node,d.node,"next")),i.dataTransfer.dropEffect=b||y||p?"move":"none",(y||b||p)&&(v==null?void 0:v.node.id)!==d.node.id&&(v&&t.emit("node-drag-leave",u.node,v.node,i),t.emit("node-drag-enter",u.node,d.node,i)),y||b||p?l.value.dropNode=d:l.value.dropNode=null,d.node.nextSibling===u.node&&(p=!1),d.node.previousSibling===u.node&&(y=!1),d.node.contains(u.node,!1)&&(b=!1),(u.node===d.node||u.node.contains(d.node))&&(y=!1,b=!1,p=!1);const L=d.$el.querySelector(`.${r.be("node","content")}`).getBoundingClientRect(),K=n.value.getBoundingClientRect();let w;const pe=y?b?.25:p?.45:1:-1,ge=p?b?.75:y?.55:0:1;let ee=-9999;const C=i.clientY-L.top;C<L.height*pe?w="before":C>L.height*ge?w="after":b?w="inner":w="none";const T=d.$el.querySelector(`.${r.be("node","expand-icon")}`).getBoundingClientRect(),$=a.value;w==="before"?ee=T.top-K.top:w==="after"&&(ee=T.bottom-K.top),$.style.top=`${ee}px`,$.style.left=`${T.right-K.left}px`,w==="inner"?Pe(d.$el,r.is("drop-inner")):Z(d.$el,r.is("drop-inner")),l.value.showDropIndicator=w==="before"||w==="after",l.value.allowDrop=l.value.showDropIndicator||k,l.value.dropType=w,t.emit("node-drag-over",u.node,d.node,i)},treeNodeDragEnd:i=>{const{draggingNode:c,dropType:d,dropNode:v}=l.value;if(i.preventDefault(),i.dataTransfer.dropEffect="move",c&&v){const u={data:c.node.data};d!=="none"&&c.node.remove(),d==="before"?v.node.parent.insertBefore(u,v.node):d==="after"?v.node.parent.insertAfter(u,v.node):d==="inner"&&v.node.insertChild(u),d!=="none"&&(o.value.registerNode(u),o.value.key&&c.node.eachNode(y=>{var b;(b=o.value.nodesMap[y.data[o.value.key]])==null||b.setChecked(y.checked,!o.value.checkStrictly)})),Z(v.$el,r.is("drop-inner")),t.emit("node-drag-end",c.node,v.node,d,i),d!=="none"&&t.emit("node-drop",c.node,v.node,d,i)}c&&!v&&t.emit("node-drag-end",c.node,null,d,i),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const Vo=I({name:"ElTreeNode",components:{ElCollapseTransition:Bo,ElCheckbox:Do,NodeContent:jo,ElIcon:wn,Loading:En},props:{node:{type:J,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=V("tree"),{broadcastExpanded:a}=Yt(e),o=P("RootTree"),r=S(!1),l=S(!1),s=S(null),h=S(null),f=S(null),i=P(Zt),c=Te();ae("NodeInstance",c),e.node.expanded&&(r.value=!0,l.value=!0);const d=o.props.props.children||"children";B(()=>{const C=e.node.data[d];return C&&[...C]},()=>{e.node.updateChildren()}),B(()=>e.node.indeterminate,C=>{y(e.node.checked,C)}),B(()=>e.node.checked,C=>{y(C,e.node.indeterminate)}),B(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),B(()=>e.node.expanded,C=>{ne(()=>r.value=C),C&&(l.value=!0)});const v=C=>tt(o.props.nodeKey,C.data),u=C=>{const T=e.props.class;if(!T)return{};let $;if(gn(T)){const{data:Le}=C;$=T(Le,C)}else $=T;return fe($)?{[$]:!0}:$},y=(C,T)=>{(s.value!==C||h.value!==T)&&o.ctx.emit("check-change",e.node.data,C,T),s.value=C,h.value=T},b=C=>{Ue(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&k(),o.props.checkOnClickNode&&!e.node.disabled&&L(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,c,C)},p=C=>{o.instance.vnode.props.onNodeContextmenu&&(C.stopPropagation(),C.preventDefault()),o.ctx.emit("node-contextmenu",C,e.node.data,e.node,c)},k=()=>{e.node.isLeaf||(r.value?(o.ctx.emit("node-collapse",e.node.data,e.node,c),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,c)))},L=(C,T)=>{e.node.setChecked(T.target.checked,!o.props.checkStrictly),ne(()=>{const $=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:$.getCheckedNodes(),checkedKeys:$.getCheckedKeys(),halfCheckedNodes:$.getHalfCheckedNodes(),halfCheckedKeys:$.getHalfCheckedKeys()})})};return{ns:n,node$:f,tree:o,expanded:r,childNodeRendered:l,oldChecked:s,oldIndeterminate:h,getNodeKey:v,getNodeClass:u,handleSelectChange:y,handleClick:b,handleContextMenu:p,handleExpandIconClick:k,handleCheckChange:L,handleChildNodeExpand:(C,T,$)=>{a(T),o.ctx.emit("node-expand",C,T,$)},handleDragStart:C=>{o.props.draggable&&i.treeNodeDragStart({event:C,treeNode:e})},handleDragOver:C=>{C.preventDefault(),o.props.draggable&&i.treeNodeDragOver({event:C,treeNode:{$el:f.value,node:e.node}})},handleDrop:C=>{C.preventDefault()},handleDragEnd:C=>{o.props.draggable&&i.treeNodeDragEnd(C)},CaretRight:_n}}});function Ro(e,t,n,a,o,r){const l=z("el-icon"),s=z("el-checkbox"),h=z("loading"),f=z("node-content"),i=z("el-tree-node"),c=z("el-collapse-transition");return F((x(),D("div",{ref:"node$",class:_([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:O(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:O(e.handleDragStart,["stop"]),onDragover:O(e.handleDragOver,["stop"]),onDragend:O(e.handleDragEnd,["stop"]),onDrop:O(e.handleDrop,["stop"])},[Q("div",{class:_(e.ns.be("node","content")),style:Kt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(x(),j(l,{key:0,class:_([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:O(e.handleExpandIconClick,["stop"])},{default:M(()=>[(x(),j(Qe(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):U("v-if",!0),e.showCheckbox?(x(),j(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:O(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):U("v-if",!0),e.node.loading?(x(),j(l,{key:2,class:_([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:M(()=>[G(h)]),_:1},8,["class"])):U("v-if",!0),G(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),G(c,null,{default:M(()=>[!e.renderAfterExpand||e.childNodeRendered?F((x(),D("div",{key:0,class:_(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(x(!0),D(Ye,null,Ot(e.node.childNodes,d=>(x(),j(i,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[Ee,e.expanded]]):U("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Ee,e.node.visible]])}var zo=X(Vo,[["render",Ro],["__file","tree-node.vue"]]);function Ho({el$:e},t){const n=V("tree"),a=ot([]),o=ot([]);yn(()=>{l()}),bn(()=>{a.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),B(o,s=>{s.forEach(h=>{h.setAttribute("tabindex","-1")})}),fn(e,"keydown",s=>{const h=s.target;if(!h.className.includes(n.b("node")))return;const f=s.code;a.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const i=a.value.indexOf(h);let c;if([W.up,W.down].includes(f)){if(s.preventDefault(),f===W.up){c=i===-1?0:i!==0?i-1:a.value.length-1;const v=c;for(;!t.value.getNode(a.value[c].dataset.key).canFocus;){if(c--,c===v){c=-1;break}c<0&&(c=a.value.length-1)}}else{c=i===-1?0:i<a.value.length-1?i+1:0;const v=c;for(;!t.value.getNode(a.value[c].dataset.key).canFocus;){if(c++,c===v){c=-1;break}c>=a.value.length&&(c=0)}}c!==-1&&a.value[c].focus()}[W.left,W.right].includes(f)&&(s.preventDefault(),h.click());const d=h.querySelector('[type="checkbox"]');[W.enter,W.space].includes(f)&&d&&(s.preventDefault(),d.click())});const l=()=>{var s;a.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const h=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(h.length){h[0].setAttribute("tabindex","0");return}(s=a.value[0])==null||s.setAttribute("tabindex","0")}}const Uo=I({name:"ElTree",components:{ElTreeNode:zo},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Sn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=Tn(),a=V("tree"),o=P(Io,null),r=S(new Po({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));r.value.initialize();const l=S(r.value.root),s=S(null),h=S(null),f=S(null),{broadcastExpanded:i}=Yt(e),{dragState:c}=Mo({props:e,ctx:t,el$:h,dropIndicator$:f,store:r});Ho({el$:h},r);const d=A(()=>{const{childNodes:g}=l.value,N=o?o.hasFilteredOptions!==0:!1;return(!g||g.length===0||g.every(({visible:R})=>!R))&&!N});B(()=>e.currentNodeKey,g=>{r.value.setCurrentNodeKey(g)}),B(()=>e.defaultCheckedKeys,g=>{r.value.setDefaultCheckedKey(g)}),B(()=>e.defaultExpandedKeys,g=>{r.value.setDefaultExpandedKeys(g)}),B(()=>e.data,g=>{r.value.setData(g)},{deep:!0}),B(()=>e.checkStrictly,g=>{r.value.checkStrictly=g});const v=g=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(g)},u=g=>tt(e.nodeKey,g.data),y=g=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const N=r.value.getNode(g);if(!N)return[];const R=[N.data];let ie=N.parent;for(;ie&&ie!==l.value;)R.push(ie.data),ie=ie.parent;return R.reverse()},b=(g,N)=>r.value.getCheckedNodes(g,N),p=g=>r.value.getCheckedKeys(g),k=()=>{const g=r.value.getCurrentNode();return g?g.data:null},L=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const g=k();return g?g[e.nodeKey]:null},K=(g,N)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(g,N)},w=(g,N)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(g,N)},pe=(g,N,R)=>{r.value.setChecked(g,N,R)},ge=()=>r.value.getHalfCheckedNodes(),ee=()=>r.value.getHalfCheckedKeys(),C=(g,N=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ue(r,t.emit,()=>{i(g),r.value.setUserCurrentNode(g,N)})},T=(g,N=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ue(r,t.emit,()=>{i(),r.value.setCurrentNodeKey(g,N)})},$=g=>r.value.getNode(g),Le=g=>{r.value.remove(g)},Jt=(g,N)=>{r.value.append(g,N)},Qt=(g,N)=>{r.value.insertBefore(g,N)},Xt=(g,N)=>{r.value.insertAfter(g,N)},en=(g,N,R)=>{i(N),t.emit("node-expand",g,N,R)},tn=(g,N)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(g,N)};return ae("RootTree",{ctx:t,props:e,store:r,root:l,currentNode:s,instance:Te()}),ae(An,void 0),{ns:a,store:r,root:l,currentNode:s,dragState:c,el$:h,dropIndicator$:f,isEmpty:d,filter:v,getNodeKey:u,getNodePath:y,getCheckedNodes:b,getCheckedKeys:p,getCurrentNode:k,getCurrentKey:L,setCheckedNodes:K,setCheckedKeys:w,setChecked:pe,getHalfCheckedNodes:ge,getHalfCheckedKeys:ee,setCurrentNode:C,setCurrentKey:T,t:n,getNode:$,remove:Le,append:Jt,insertBefore:Qt,insertAfter:Xt,handleNodeExpand:en,updateKeyChildren:tn}}});function Go(e,t,n,a,o,r){const l=z("el-tree-node");return x(),D("div",{ref:"el$",class:_([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(x(!0),D(Ye,null,Ot(e.root.childNodes,s=>(x(),j(l,{key:e.getNodeKey(s),node:s,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(x(),D("div",{key:0,class:_(e.ns.e("empty-block"))},[re(e.$slots,"empty",{},()=>{var s;return[Q("span",{class:_(e.ns.e("empty-text"))},Je((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)]})],2)):U("v-if",!0),F(Q("div",{ref:"dropIndicator$",class:_(e.ns.e("drop-indicator"))},null,2),[[Ee,e.dragState.showDropIndicator]])],2)}var qo=X(Uo,[["render",Go],["__file","tree.vue"]]);const Wo=We(qo);function Yo(e){let t;const n=S(!1),a=It({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(d){a.text=d}function r(){const d=a.parent,v=c.ns;if(!d.vLoadingAddClassList){let u=d.getAttribute("loading-number");u=Number.parseInt(u)-1,u?d.setAttribute("loading-number",u.toString()):(Z(d,v.bm("parent","relative")),d.removeAttribute("loading-number")),Z(d,v.bm("parent","hidden"))}l(),i.unmount()}function l(){var d,v;(v=(d=c.$el)==null?void 0:d.parentNode)==null||v.removeChild(c.$el)}function s(){var d;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(h,400),a.visible=!1,(d=e.closed)==null||d.call(e))}function h(){if(!n.value)return;const d=a.parent;n.value=!1,d.vLoadingAddClassList=void 0,r()}const f=I({name:"ElLoading",setup(d,{expose:v}){const{ns:u,zIndex:y}=Dn("loading");return v({ns:u,zIndex:y}),()=>{const b=a.spinner||a.svg,p=Y("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"0 0 50 50",...b?{innerHTML:b}:{}},[Y("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),k=a.text?Y("p",{class:u.b("text")},[a.text]):void 0;return Y(Bt,{name:u.b("fade"),onAfterLeave:h},{default:M(()=>[F(G("div",{style:{backgroundColor:a.background||""},class:[u.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[Y("div",{class:u.b("spinner")},[p,k])]),[[Ee,a.visible]])])})}}}),i=mn(f),c=i.mount(document.createElement("div"));return{...$t(a),setText:o,removeElLoadingChild:l,close:s,handleAfterLeave:h,vm:c,get $el(){return c.$el}}}let me;const Zo=function(e={}){if(!sn)return;const t=Jo(e);if(t.fullscreen&&me)return me;const n=Yo({...t,closed:()=>{var o;(o=t.closed)==null||o.call(t),t.fullscreen&&(me=void 0)}});Qo(t,t.parent,n),wt(t,t.parent,n),t.parent.vLoadingAddClassList=()=>wt(t,t.parent,n);let a=t.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",t.parent.setAttribute("loading-number",a),t.parent.appendChild(n.$el),ne(()=>n.visible.value=t.visible),t.fullscreen&&(me=n),n},Jo=e=>{var t,n,a,o;let r;return fe(e.target)?r=(t=document.querySelector(e.target))!=null?t:document.body:r=e.target||document.body,{parent:r===document.body||e.body?document.body:r,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:r===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(a=e.lock)!=null?a:!1,customClass:e.customClass||"",visible:(o=e.visible)!=null?o:!0,beforeClose:e.beforeClose,closed:e.closed,target:r}},Qo=async(e,t,n)=>{const{nextZIndex:a}=n.vm.zIndex||n.vm._.exposed.zIndex,o={};if(e.fullscreen)n.originalPosition.value=de(document.body,"position"),n.originalOverflow.value=de(document.body,"overflow"),o.zIndex=a();else if(e.parent===document.body){n.originalPosition.value=de(document.body,"position"),await ne();for(const r of["top","left"]){const l=r==="top"?"scrollTop":"scrollLeft";o[r]=`${e.target.getBoundingClientRect()[r]+document.body[l]+document.documentElement[l]-Number.parseInt(de(document.body,`margin-${r}`),10)}px`}for(const r of["height","width"])o[r]=`${e.target.getBoundingClientRect()[r]}px`}else n.originalPosition.value=de(t,"position");for(const[r,l]of Object.entries(o))n.$el.style[r]=l},wt=(e,t,n)=>{const a=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Z(t,a.bm("parent","relative")):Pe(t,a.bm("parent","relative")),e.fullscreen&&e.lock?Pe(t,a.bm("parent","hidden")):Z(t,a.bm("parent","hidden"))},Ce=Symbol("ElLoading"),Et=(e,t)=>{var n,a,o,r;const l=t.instance,s=d=>Ae(t.value)?t.value[d]:void 0,h=d=>{const v=fe(d)&&(l==null?void 0:l[d])||d;return v&&S(v)},f=d=>h(s(d)||e.getAttribute(`element-loading-${Cn(d)}`)),i=(n=s("fullscreen"))!=null?n:t.modifiers.fullscreen,c={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:i,target:(a=s("target"))!=null?a:i?void 0:e,body:(o=s("body"))!=null?o:t.modifiers.body,lock:(r=s("lock"))!=null?r:t.modifiers.lock};e[Ce]={options:c,instance:Zo(c)}},Xo=(e,t)=>{for(const n of Object.keys(t))ve(t[n])&&(t[n].value=e[n])},er={mounted(e,t){t.value&&Et(e,t)},updated(e,t){const n=e[Ce];t.oldValue!==t.value&&(t.value&&!t.oldValue?Et(e,t):t.value&&t.oldValue?Ae(t.value)&&Xo(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[Ce])==null||t.instance.close(),e[Ce]=null}},tr={class:"page-container h-full bg-black flex overflow-hidden dark"},nr={class:"folder-area w-300px h-full flex-shrink-0 overflow-y-auto"},ar={key:1,class:"tree h-full overflow-y-auto"},or={class:"file-area h-full flex-1 overflow-y-auto"},rr={class:"tx-content h-full overflow-y-auto"},sr={components:{highlightjs:kn.component}},lr=I({...sr,__name:"readFolders",setup(e){const t={children:"children",label:"name"},n=S(""),a=S([]),o=S(!1),r=S(!1);async function l(){if(!o.value){o.value=!0;try{const f=await window.showDirectoryPicker(),i=await s(f);a.value=[i]}catch{}o.value=!1}}async function s(f){const i={kind:f.kind,name:f.name,handle:f,children:[]};if(i.kind==="file")return i;try{const c=await f.entries();if(c){for await(const d of c)if(d){const v=await s(d[1]);i.children.push(v)}}}catch{}return i}async function h(f){if(f.kind!=="directory"&&!r.value&&(r.value=!0,f.kind==="file")){const i=await f.handle.getFile(),c=new FileReader;c.readAsText(i,"utf-8"),c.onload=d=>{var v;n.value=(v=d.target)==null?void 0:v.result,r.value=!1}}}return(f,i)=>{const c=Wo,d=hn,v=z("highlightjs"),u=er;return x(),D("div",tr,[Q("div",nr,[G(d,null,{default:M(()=>[m(a).length?(x(),D("div",ar,[G(c,{class:"w-full h-full","highlight-current":!0,style:{background:"#000"},data:m(a),props:t,onNodeClick:h},null,8,["data"])])):F((x(),D("div",{key:0,class:"btn open-folder bg-sky-400 px-2 mx-auto my-2 font-14px cursor-pointer",onClick:l},[Ze(" 打开文件夹")])),[[u,m(o)]])]),_:1})]),F((x(),D("div",or,[G(d,null,{default:M(()=>[Q("div",rr,[G(v,{autodetect:"",code:m(n)},null,8,["code"])])]),_:1})])),[[u,m(r)]])])}}}),vr=Nn(lr,[["__scopeId","data-v-251e713b"]]);export{vr as default};
