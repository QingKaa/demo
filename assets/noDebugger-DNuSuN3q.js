import{d as s,a as i,o as r,c as l,b as e,t as d}from"./index-BGph44bk.js";const u={class:"no-debugger"},a=e("h1",{class:"text-center py-1"},"这个页面禁止调试",-1),_=e("p",null,"通过无限debugger来限制用户的debugger行为,这种方式可以通过各种手段绕过，最终还是能看到源码",-1),g=e("p",null,"当然也可以通过禁止右键菜单以及阻止 f12快捷键，禁止打开控制台",-1),p=e("code",null," // 禁止右键菜单 document.oncontextmenu = function() { return false; }; ",-1),h=e("br",null,null,-1),f=e("code",null," // 阻止f12快捷键 document.onkeydown = function(e){ if(e.ctrlKey && e.keyCode == 123){ e.preventDefault() return false } } ",-1),b=e("p",null,"代码需要进行压缩和混淆处理，多重手段配合",-1),m=e("h2",null,"还有 CSP （内容安全策略）",-1),w=e("p",null,"可以在在CSP中设置debugger关键字为禁用，任何试图调用debugger语句的脚本都将被阻止执行",-1),y=e("code",null,"Content-Security-Policy: script-src 'self' 'unsafe-inline'; debugger-eval-disabled",-1),k={class:"mt-2"},S=s({__name:"noDebugger",setup(v){const n=i(1),o=()=>{n.value++},c=()=>{n.value--};return function(){function t(){setInterval(()=>{(window.outerHeight-window.innerHeight>200||window.outerWidth-window.innerWidth>200)&&(document.body.innerHTML="检测到非法调试,请关闭后刷新重试!"),Function("debugger")()},50)}try{t()}catch{}}(),(t,C)=>(r(),l("div",u,[a,_,g,p,h,f,b,m,w,y,e("p",k,"count: "+d(n.value),1),e("span",{onClick:o,class:"inline-block p-1 bg-green rd m-1 select-none cursor-pointer"},"increment"),e("span",{onClick:c,class:"inline-block p-1 bg-red rd m-1 select-none cursor-pointer"},"decrement")]))}});export{S as default};
