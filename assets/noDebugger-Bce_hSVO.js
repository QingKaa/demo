import{d as u,k as s,o as i,c as d,b as e,t as g}from"./index-BdHghL4a.js";const p={class:"no-debugger"},f={class:"mt-2"},a=u({__name:"noDebugger",setup(b){const t=s(1),r=()=>{t.value++},l=()=>{t.value--};return function(){function o(){setInterval(()=>{(window.outerHeight-window.innerHeight>200||window.outerWidth-window.innerWidth>200)&&(document.body.innerHTML="检测到非法调试,请关闭后刷新重试!"),Function("debugger")()},50)}try{o()}catch{}}(),(o,n)=>(i(),d("div",p,[n[0]||(n[0]=e("h1",{class:"text-center py-1"},"这个页面禁止调试",-1)),n[1]||(n[1]=e("p",null,"通过无限debugger来限制用户的debugger行为,这种方式可以通过各种手段绕过，最终还是能看到源码",-1)),n[2]||(n[2]=e("p",null,"当然也可以通过禁止右键菜单以及阻止 f12快捷键，禁止打开控制台",-1)),n[3]||(n[3]=e("code",null," // 禁止右键菜单 document.oncontextmenu = function() { return false; }; ",-1)),n[4]||(n[4]=e("br",null,null,-1)),n[5]||(n[5]=e("code",null," // 阻止f12快捷键 document.onkeydown = function(e){ if(e.ctrlKey && e.keyCode == 123){ e.preventDefault() return false } } ",-1)),n[6]||(n[6]=e("p",null,"代码需要进行压缩和混淆处理，多重手段配合",-1)),n[7]||(n[7]=e("h2",null,"还有 CSP （内容安全策略）",-1)),n[8]||(n[8]=e("p",null,"可以在在CSP中设置debugger关键字为禁用，任何试图调用debugger语句的脚本都将被阻止执行",-1)),n[9]||(n[9]=e("code",null,"Content-Security-Policy: script-src 'self' 'unsafe-inline'; debugger-eval-disabled",-1)),e("p",f,"count: "+g(t.value),1),e("span",{onClick:r,class:"inline-block p-1 bg-green rd m-1 select-none cursor-pointer"},"increment"),e("span",{onClick:l,class:"inline-block p-1 bg-red rd m-1 select-none cursor-pointer"},"decrement")]))}});export{a as default};
